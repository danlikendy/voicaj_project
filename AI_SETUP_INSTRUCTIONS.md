# Настройка GPT-4o для VoiceActionJournal

## Проблема
Сейчас в приложении используется Mock AI сервис вместо настоящего GPT-4o, из-за чего:
- Голосовые записи не анализируются AI
- Создаются только простые задачи с транскрипцией
- В чате даются одинаковые ответы
- Не формируются краткие названия задач и расширенные описания

## Решение

### 1. Получение API ключа OpenAI

1. Перейдите на [OpenAI Platform](https://platform.openai.com/api-keys)
2. Войдите в свой аккаунт или создайте новый
3. Нажмите "Create new secret key"
4. Скопируйте полученный ключ (начинается с `sk-proj-`)

### 2. Настройка API ключа

#### Вариант A: Через переменную окружения (рекомендуется)
```bash
export OPENAI_API_KEY="sk-proj-your-actual-key-here"
```

#### Вариант B: Прямо в коде
Откройте файл `Core/Config/AIConfig.swift` и замените:
```swift
static let openAIKey = "sk-proj-your-actual-key-here"
```

### 3. Проверка настройки

После настройки API ключа:
1. Перезапустите приложение
2. В консоли должно появиться: "✅ Используется настоящий OpenAI GPT-4o сервис"
3. Попробуйте записать голосовое сообщение
4. Проверьте чат - ответы должны стать разнообразными

### 4. Что изменится

После настройки GPT-4o:

**Голосовые записи:**
- ✅ Краткое название задачи вместо "Запись от дата"
- ✅ Расширенное описание вместо простой транскрипции
- ✅ Автоматические теги на основе содержания
- ✅ Определение приоритета и сроков

**Чат:**
- ✅ Разнообразные и контекстные ответы
- ✅ Создание задач из текстовых сообщений
- ✅ Персонализированные рекомендации

### 5. Безопасность

⚠️ **ВАЖНО**: Никогда не коммитьте реальные API ключи в репозиторий!

- Используйте переменные окружения
- Добавьте `.env` в `.gitignore`
- Для продакшена используйте безопасное хранение ключей

### 6. Альтернативы

Если у вас нет доступа к OpenAI API, можно использовать:
- Claude API (Anthropic)
- Mistral API
- Локальные модели через Ollama

Для этого нужно будет модифицировать `AIServiceFactory.swift`.

## Поддержка

Если возникли проблемы:
1. Проверьте правильность API ключа
2. Убедитесь, что у вас есть доступ к GPT-4o
3. Проверьте баланс на аккаунте OpenAI
4. Посмотрите логи в консоли приложения


