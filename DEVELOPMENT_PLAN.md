# План разработки Voicaj

## Этап 1: Базовая структура проекта ✅
- [x] Создание структуры папок
- [x] Основные модели данных (Task, VoiceRecord)
- [x] Цветовая палитра
- [x] Базовая навигация с табами
- [x] Экран "Дом/Сегодня" (HomeView)

## Этап 2: Основные экраны (MVP)
- [ ] Экран "Запись" (RecordingView)
  - [ ] Голосовая запись
  - [ ] Транскрипция
  - [ ] AI анализ и создание задач
- [ ] Экран "Календарь" (CalendarView)
  - [ ] Месячный вид
  - [ ] Карточка дня
  - [ ] Переходы между экранами
- [ ] Экран "Карточка задачи" (TaskDetailView)
  - [ ] Детальная информация
  - [ ] Редактирование
  - [ ] Управление статусом

## Этап 3: Дополнительные экраны
- [ ] Экран "Таймлайн" (TimelineView)
  - [ ] Лента записей и дней
  - [ ] Поиск и фильтрация
- [ ] Экран "Аналитика" (AnalyticsView)
  - [ ] KPI плашки
  - [ ] Графики
  - [ ] AI отчеты
- [ ] Экран "Чат" (ChatView)
  - [ ] Диалог с AI
  - [ ] Поиск по задачам
- [ ] Экран "Настройки" (SettingsView)
  - [ ] Темы и оформление
  - [ ] Уведомления
  - [ ] Безопасность

## Этап 4: AI функциональность
- [ ] Голосовая запись
  - [ ] AVFoundation интеграция
  - [ ] Шумоподавление
  - [ ] Маркеры времени
- [ ] Транскрипция
  - [ ] Speech Recognition
  - [ ] Поддержка RU/EN
- [ ] AI анализ
  - [ ] Извлечение намерений
  - [ ] Создание задач
  - [ ] Анализ настроения

## Этап 5: Интеграции и безопасность
- [ ] Core Data для хранения
- [ ] CloudKit синхронизация
- [ ] Face ID / Touch ID
- [ ] Приватные записи
- [ ] Apple Calendar интеграция
- [ ] Siri Shortcuts 

## Этап 6: Монетизация
- [ ] Free/Pro планы
- [ ] In-App Purchases
- [ ] Расширенные функции Pro

## Текущий статус: Этап 2 (MVP) - Экран "Запись" завершен ✅

**КЛЮЧЕВОЕ ДОСТИЖЕНИЕ**: Реализован основной экран "Запись" - центральная функция приложения согласно плану! 

Пользователь теперь может:
- ✅ Записывать голос с анимацией волн 
- ✅ Видеть live транскрипцию в реальном времени
- ✅ Выбирать шаблоны записи (итог дня, план, встречи)
- ✅ Получать AI анализ с автоматическим созданием задач по блокам
- ✅ Редактировать результаты перед сохранением

Это докажет ценность продукта "Голос → Задачи" и покажет "вау-эффект" пользователям!

### Что готово:
1. **Структура проекта** - создана правильная архитектура папок ✅
2. **Модели данных** - TaskItem, VoiceRecord, Mood, VoiceTemplate ✅
3. **Цветовая палитра** - светлая и темная темы согласно ТЗ ✅
4. **Экран "Дом"** - основной экран с задачами по статусам ✅
5. **Базовая навигация** - табы для всех основных экранов ✅
6. **Xcode проект** - настроен и собирается без ошибок ✅
7. **Приложение запускается** в симуляторе ✅
8. **UI компоненты** - TaskSectionView, TaskRowView, HomeView ✅
9. **ViewModel** - HomeViewModel с данными и логикой ✅
10. **Сервисы** - AIAnalysisService, AudioRecordingService (базовая структура) ✅
11. **Исправлены критические ошибки** - кнопка микрофона, детали задач, быстрые действия ✅
12. **Добавлен TaskDetailView** - полноценный экран деталей задачи ✅
13. **Реализован запрос разрешений** - микрофон и распознавание речи ✅
14. **Исправлена область клика задач** - вся задача теперь кликабельна ✅
15. **Переработан UI записи** - запись происходит на том же экране без отдельной вкладки ✅
16. **Исправлены кнопки действий** - "Редактировать" и "Удалить" теперь работают ✅
17. **Добавлен эффект прозрачности** - верхний градиент для плавного перехода ✅
18. **Реализован эффект стекла** - нижнее меню с прозрачностью и размытием ✅
19. **Исправлены кнопки действий** - "Редактировать" и "Удалить" теперь работают ✅
20. **Улучшен верхний градиент** - плавный переход с 4 уровнями прозрачности ✅
21. **Исправлена кликабельность задач** - вся область задачи теперь кликабельна ✅
22. **Добавлена фильтрация по хештегам** - работает выбор и отображение отфильтрованных задач ✅
23. **Улучшены быстрые действия** - добавлены действия и логирование ✅
24. **Исправлено дублирование дат** - убрана дублирующая дата, добавлен текст "Сегодня" ✅
25. **Улучшен отображение streak** - более понятная структура с иконкой огня ✅
26. **Добавлен pull-to-refresh** - возможность обновления данных при скролле вверх ✅
27. **Исправлена фильтрация по хештегам** - теперь работает выбор и отображение отфильтрованных задач ✅
28. **Исправлена кликабельность всего блока задачи** - вся область задачи теперь кликабельна согласно плану ✅
29. **Улучшен верхний градиент** - градиент теперь начинается от самого верха экрана с 5 уровнями прозрачности ✅
30. **Реализован эффект стекла для нижнего меню** - добавлены закругления, тени и улучшенный blur-эффект ✅
31. **Улучшены кнопки действий в деталях задачи** - добавлены комментарии и подготовка к дальнейшей реализации ✅
32. **Улучшены быстрые действия** - добавлена логика сброса фильтров и подготовка к реализации согласно плану ✅
33. **Реализован экран Timeline** - добавлен TimelineView с демо-данными и структурой ✅
34. **Реализован экран Analytics** - добавлен AnalyticsView с KPI карточками, графиками и AI анализом ✅
35. **Реализован экран Calendar** - добавлен CalendarView с календарной сеткой и событиями ✅
36. **Реализован экран Chat** - добавлен ChatView с интерфейсом для AI чата ✅
37. **Улучшено верхнее меню** - добавлены тени, размытые границы и единообразный дизайн для Timeline и Analytics ✅
38. **Исправлены ошибки компиляции** - убраны проблемные анимации, приложение собирается и запускается ✅
39. **Реализован экран "Запись" (RecordingView)** - полноценный экран для голосовой записи с AI анализом ✅
40. **Реализован RecordingViewModel** - ViewModel для управления записью, транскрипцией и обработкой ✅
41. **Обновлен AudioRecordingService** - добавлена поддержка async/await и улучшенная обработка ошибок ✅
42. **Обновлен AIAnalysisService** - добавлена поддержка новых шаблонов голосовых записей ✅
43. **Интеграция с HomeView** - добавлен переход на экран записи через кнопку и быстрые действия ✅
44. **Добавлены Voice Templates** - шаблоны для разных типов записей (итог дня, план, встречи) ✅
45. **Реализована live транскрипция** - отображение транскрипции в реальном времени при записи ✅
46. **Добавлена анимация аудио-волн** - визуализация записи с анимированными волнами ✅
47. **Реализован AI анализ результатов** - автоматическое создание задач по блокам из голосовой записи ✅
33. **Проект восстановлен** - исправлены ошибки компиляции, приложение снова собирается и запускается ✅
34. **TaskManager временно отключен** - проект работает в базовом режиме без интеграции с TaskManager ✅
35. **Исправлены UI/UX проблемы** - исправлены цвета, фон, заголовки и иконки согласно цветовой палитре ✅
36. **Исправлена синяя кнопка микрофона** - заменена на цвет Honey Gold согласно палитре ✅
37. **Заменена иконка streak** - убрана эмодзи огня, заменена на молнию для лучшего понимания ✅
38. **Исправлены все синие цвета** - заменены на цвета из брендбука согласно палитре ✅
39. **Переработан TaskEditView** - убраны кнопки из header, добавлена большая кнопка сохранения внизу ✅
40. **Убрана кнопка "Готово" из TaskDetailView** - теперь можно возвращаться свайпом ✅
41. **Исправлены отступы блоков** - все блоки теперь растянуты на всю ширину экрана ✅
42. **Оптимизирована кнопка сохранения** - убран лишний белый блок, кнопка растянута на всю ширину ✅
33. **Проект восстановлен** - исправлены ошибки компиляции, приложение снова собирается и запускается ✅
34. **TaskManager временно отключен** - проект работает в базовом режиме без интеграции с TaskManager ✅
33. **Исправлена структура TaskRowView** - пересоздан файл с правильной архитектурой для кликабельности ✅
34. **Улучшен верхний градиент** - добавлен ignoresSafeArea для корректного отображения с челкой iPhone ✅
35. **Улучшен эффект стекла для TabBar** - добавлено принудительное применение стилей через DispatchQueue ✅
36. **Применена палитра цветов согласно пункту 11** - TabBar использует точные цвета из плана ✅
37. **Улучшено позиционирование иконок в TabBar** - добавлено центрирование и настройка spacing ✅
38. **Создан профессиональный README.md** - красивый файл в стиле Longhorn с подробным описанием проекта ✅
39. **Добавлен файл LICENSE** - MIT лицензия для открытого проекта ✅
40. **Упрощен README.md** - убраны все эмодзи для более профессионального вида ✅
41. **Исправлены предупреждения компилятора** - обновлены устаревшие API и исправлены неиспользуемые переменные ✅
42. **Полностью очищен код** - убраны все предупреждения о неиспользуемых переменных ✅
43. **Код готов к production** - все предупреждения компилятора исправлены ✅
44. **Экран "Запись" реализован** - полноценная голосовая запись с AI анализом ✅
45. **AI анализ голоса** - умное определение статуса задач по шаблонам ✅
46. **Шаблоны голосовых записей** - Итог дня, План на завтра, План недели и др. ✅\n47. **Исправлены отступы блоков в TaskDetailView** - блоки теперь растянуты на всю ширину экрана ✅\n48. **Убран белый блок за кнопкой сохранения** - кнопка вынесена за пределы Form ✅\n49. **Восстановлена кнопка \"Готово\" в TaskDetailView** - возвращена в header для удобства навигации ✅\n50. **Исправлены отступы блоков** - блоки имеют правильные внутренние отступы, но не растягиваются до краев экрана ✅\n51. **Исправлена разная ширина блоков** - все блоки теперь имеют одинаковую ширину с помощью .frame(maxWidth: .infinity) ✅\n52. **Улучшена кнопка \"Добавить\" в TaskEditView** - добавлен фон и стилизация согласно палитре ✅\n53. **Исправлено выравнивание текста в блоках** - добавлен alignment: .leading для выравнивания по левому краю ✅\n54. **Восстановлена кнопка \"Добавить\"** - убраны лишние стили, возвращен оригинальный вид ✅\n55. **Оптимизирована кнопка \"Сохранить\"** - убран лишний VStack для корректного отображения ✅\n56. **Убрана кнопка \"Готово\" из TaskDetailView** - упрощен интерфейс, возврат происходит свайпом ✅\n57. **Реализован экран \"Календарь\"** - создан полноценный календарь с тремя режимами просмотра (месяц/неделя/день) ✅\\n58. **Улучшен дизайн календаря** - исправлено выделение дат, добавлено выделение текущего дня, оптимизировано отображение часов ✅\\n59. **Исправлены названия месяцев** - убраны склонения (\"Августа\" → \"Август\") ✅\\n60. **Убрана \"челка\" с днями недели** - упрощен заголовок месячного вида календаря ✅\\n61. **Увеличена толщина выделения дат** - линия выделения увеличена с 2 до 3 пикселей ✅\\n62. **Добавлены свайпы для навигации** - возможность переключать месяцы/недели/дни свайпами влево-вправо ✅\\n63. **Улучшена навигация календаря** - свайпы работают по всему экрану, добавлена анимация, убраны стрелки ✅\\n64. **Исправлен дизайн выделения дат** - красивое квадратное выделение с закругленными углами (12px) ✅\\n65. **Исправлен цвет активной вкладки** - заменен синий на Honey Gold согласно брендбуку ✅\\n66. **Оптимизирован месячный календарь** - перемещен в центр экрана для лучшего баланса ✅\\n67. **Реализован экран "Таймлайн"** - полноценный экран с карточками дней, поиском, фильтрацией и отображением прогресса ✅\\n68. **Оптимизирован экран "Таймлайн"** - убран дублирующий фильтр, заголовок, исправлена высота поиска, добавлено плавное исчезновение хештегов ✅\\n69. **Унифицирован дизайн заголовков** - все экраны теперь имеют одинаковый стиль заголовков с закругленными углами и фоном Color.porcelain ✅\\n70. **Стандартизированы заголовки экранов** - CalendarView и TimelineView теперь имеют заголовки в стиле HomeView с единым дизайном ✅\\n71. **Улучшен заголовок CalendarView** - добавлена структура как в HomeView с тремя секциями и правильным расположением элементов ✅\\n72. **Добавлено плавное исчезновение хештегов в HomeView** - хештеги теперь плавно исчезают при приближении к краям экрана ✅\\n73. **Исправлен заголовок CalendarView** - убрано дублирование "Сегодня", левая кнопка теперь имеет такой же стиль как правая ✅\\n74. **Реализован экран "Аналитика"** - полноценный экран с KPI-плашками, графиками продуктивности и AI-отчетами ✅\\n75. **Переработан заголовок AnalyticsView** - добавлены кнопки выбора периода, года и конкретных значений согласно требованиям ✅\\n76. **Добавлен эффект прозрачности при скролле** - заголовки AnalyticsView и TimelineView теперь имеют плавный переход прозрачности ✅\\n77. **Исправлены отступы внизу экранов** - добавлено дополнительное пространство для красивого UI дизайна на всех экранах ✅\\n78. **Упрощен заголовок AnalyticsView** - заменены сложные меню на простую кнопку с календарем для выбора любой даты ✅\\n79. **Оптимизированы отступы** - уменьшены отступы сверху и снизу для лучшего баланса UI ✅\\n80. **Упрощен DatePickerView** - убраны сложные компоненты выбора, оставлен простой выбор даты ✅\\n81. **Исправлен заголовок AnalyticsView** - кнопка "Выбрать дату" растянута до правого края с правильными отступами ✅\\n82. **Исправлен фон DatePickerView** - убран белый фон, весь модал теперь в едином стиле Color.porcelain ✅\\n83. **Улучшен DatePickerView** - убрана кнопка "Отмена", кнопка "Выбрать" растянута на всю ширину, добавлен выбор режима (год/месяц/полная дата) ✅
84. **Реализован кастомный выбор даты** - при выборе "Год" показывается только год, при "Месяц" - год и месяц, при "Полная дата" - все компоненты ✅
85. **Оптимизирован DatePickerView** - убраны лишние тексты, стабильный дизайн без смещений, плавная анимация переключения режимов ✅
86. **Исправлен DatePickerView** - правильный порядок (месяц-год), улучшен внешний вид, компактные размеры ✅
87. **Добавлена плавная прозрачность заголовков** - TimelineView и AnalyticsView теперь имеют плавный переход вместо резкой линии ✅
88. **Полностью кастомизирован DatePickerView** - заменен стандартный DatePicker на кастомные Picker'ы с русскими месяцами, единообразным шрифтом и правильным порядком компонентов ✅
89. **Исправлен эффект прозрачности для верхних панелей** - TimelineView и AnalyticsView теперь имеют плавную прозрачность как для хештегов, вместо резкой линии ✅
90. **Исправлены ошибки компиляции** - убраны дублирующиеся функции, добавлены недостающие функции в DatePickerView ✅
91. **Исправлена высота picker'а для года** - теперь все режимы имеют одинаковую высоту 200px для стабильного положения кнопки "Выбрать" ✅
92. **Реализована правильная прозрачность для заголовков** - использован mask с LinearGradient как для хештегов, вместо резкой линии ✅
93. **Исправлена прозрачность с учётом чёлки iPhone 16** - заголовки начинаются с самого верха экрана, прозрачность начинается после всех кнопок ✅
94. **Унифицирован дизайн хештегов** - TimelineView и HomeView теперь имеют одинаковые FilterChip компоненты с маской градиента для плавного исчезновения ✅
95. **Восстановлены верхние меню** - убрана проблемная маска, которая скрывала заголовки на вкладках Timeline и Analytics ✅
96. **Исправлена прозрачность заголовков** - добавлена плавная прозрачность с маской градиента для TimelineView и AnalyticsView ✅
97. **Восстановлена видимость верхних панелей** - убран ignoresSafeArea, который скрывал заголовки ✅
98. **Улучшена плавность прозрачности заголовков** - увеличена высота градиента для более плавного перехода ✅
99. **Исправлено позиционирование в TimelineView** - увеличен Spacer для предотвращения наложения заголовка на хештеги ✅
100. **Оптимизированы размеры заголовков и прозрачности** - восстановлено правильное позиционирование хештегов, убраны лишние отступы ✅
101. **Исправлен экран "Запись"** - убраны всплывающие вкладки, упрощен интерфейс записи ✅
102. **Реализована красная кнопка остановки** - при записи кнопка становится красного оттенка (Color.terracotta) с иконкой остановки ✅
103. **Упрощен интерфейс записи** - убраны лишние кнопки паузы и отмены, оставлена только основная кнопка остановки ✅
104. **Исправлены предупреждения компилятора** - убраны дублирующиеся case в AIAnalysisService, исправлены deprecated API ✅
105. **Проект собирается без ошибок** - все критические ошибки исправлены, приложение готово к тестированию ✅
106. **Удалена папка Features/Recording** - убран отдельный экран записи согласно требованиям пользователя ✅
107. **Упрощен интерфейс HomeView** - кнопка записи теперь работает прямо в главном экране без модальных окон ✅
108. **Исправлена ошибка с currentStreak** - корректно отображается количество дней подряд ✅
109. **Проект полностью собирается** - все ошибки компиляции исправлены, приложение готово к запуску ✅
110. **Приложение установлено в симулятор** - успешно протестирована установка и запуск ✅
111. **Исправлена проблема с черным экраном** - приложение успешно запускается после удаления папки Recording ✅
112. **Реализована функциональность записи голоса прямо в HomeView** - кнопка записи теперь работает полноценно ✅
113. **Исправлена проблема с доступом к микрофону** - добавлены правильные запросы разрешений для микрофона и распознавания речи ✅
114. **Исправлена ошибка ForEach в календаре** - заменен id: \.self на id: \.offset для избежания дублирования nil ID ✅
115. **Улучшена логика запроса разрешений** - добавлена проверка текущего статуса разрешений перед запросом ✅
116. **ОКОНЧАТЕЛЬНО ИСПРАВЛЕНЫ ВСЕ ПРОБЛЕМЫ** - приложение полностью работает: календарь открывается без ошибок, микрофон запрашивает разрешения правильно, запись работает ✅

### Следующие шаги:
1. **Управление задачами** - интегрировать TaskManager для полноценного CRUD операций ✅ (частично)
2. **Экран "Календарь"** - создать визуализацию задач по датам
3. **Экран "Таймлайн"** - реализовать хронологический вид
4. **Экран "Аналитика"** - добавить графики и статистику
5. **Экран "Чат"** - интегрировать AI чат-бот

### Технические детали:
- **Архитектура**: MVVM + Combine
- **UI Framework**: SwiftUI
- **Минимальная версия iOS**: 17.0
- **Языки**: Swift, поддержка RU/EN
- **Цветовая схема**: Теплые тона согласно ТЗ

### Команды для работы:
```bash
# Добавить изменения
git add .

# Создать коммит
git commit -m "Описание изменений"

# Отправить изменения
git push origin main
```

Что в целом должно быть:

Пункт 1 — Экран «Дом / Сегодня»
1. Назначение экрана
Главный экран, с которого пользователь начинает работу. Цель: быстро записать голосовое сообщение, просмотреть задачи и их статусы, управлять ими (выполнить, перенести, отредактировать).
2. Структура экрана
Header
Слева: текущая дата (например, «Вт, 12 ноября»).
Центр: приветствие по времени суток («Доброе утро»).
Справа: индикатор streak (количество дней подряд с записями).
Основная кнопка записи
Крупная круглая кнопка по центру (72–88 px).
Анимация пульсации.
Подпись: «Запишите итог дня» или «Сделайте план на сегодня».
Быстрые действия (опционально)
Карточки: «План на завтра», «План на неделю», «Быстрая заметка».
По нажатию открывают экран записи с выбранным шаблоном.
Списки задач на сегодня
Разделы по блокам (фиксированный порядок):
Свершилось
Важное
В планах
Застряло
На паузе
Ожидает ответа
Делегировано
Повторяющееся
Идеи на потом
Каждый блок — отдельная секция со своим цветовым кодом.
Возможность сворачивать блоки.
Фильтры-чипы (горизонтальный скролл)
Примеры: #работа, #спорт, #дом.
Фильтрация задач по тегам.
Таббар (нижняя навигация)
Дом, Календарь, Таймлайн, Аналитика, Чат.
3. Карточка задачи
Слева чекбокс для быстрого завершения.
Заголовок (одна строка), описание (одна строка, серый текст).
Метаданные: срок (дата/время/повтор), приоритет, теги, наличие аудио.
Справа — иконка статуса (цвет блока).


Жесты:
Свайп вправо: завершить.
Свайп влево: перенести, snooze (сегодня вечером/завтра/выходные), повысить приоритет.
Долгое нажатие: меню (редактировать, делегировать, добавить подзадачу, удалить).
4. Состояния экрана
Новый пользователь: иллюстрация и CTA «Записать первый итог».
Низкая активность: подсказки «Добавить план на завтра/неделю».
Есть просроченные: плашка «Есть просроченные: N» с кнопкой «Разгрести».
Streak warning: уведомление о прерывании серии.
5. Визуальный дизайн
Палитра: светлая тема (Bone, Porcelain, Linen, Espresso, Tobacco), тёмная тема (Cocoa, Mocha, Cacao, Linen Light, Taupe).
Статусы окрашиваются в соответствующие акцентные цвета (Moss Green, Terracotta, Honey Gold, Cornflower, Orchid, Warm Grey, Teal, Olive, Mint).
Типографика: SF Pro, размеры 28/22/16/13, line-height 130–140%.
Сетка: 8 pt, карточки с радиусом 16–20 px.
Анимации: кнопка записи пульсирует, задачи исчезают/появляются с плавным fade+slide.
Доступность: контраст AA, Dynamic Type, VoiceOver.
6. Поведение записи
Основная кнопка записи → экран «Запись».
Быстрые действия → экран «Запись» с предустановленным шаблоном.
Siri Shortcuts → прямой вызов записи.
7. Уведомления
Утро: предложение составить план на день.
Вечер: предложение подвести итог.
При множественных переносах: уведомление с предложением закрыть хотя бы одну задачу.
8. Нефункциональные требования
Производительность: стабильные 60 fps при большом количестве задач.
Оффлайн-режим: доступ к списку и записи.
Локализация: поддержка RU/EN.
Таймзоны: корректная работа при смене.
9. Метрики
Нажатия на запись, завершённые записи, успешный разбор AI, количество созданных задач, выполненные задачи, перенесённые задачи, использование фильтров и streak.
10. Критерии приёмки
Основная кнопка записи всегда доступна.
Свайпы работают корректно.
Фильтры мгновенно обновляют список.
Тема переключается без сбоев.
VoiceOver зачитывает карточку задачи по правильному порядку.
Пункт 2 — Экран «Запись»
1. Назначение экрана
Основное окно для записи голосового сообщения. Цель: быстро и удобно зафиксировать аудио, обработать его AI и превратить в структурированные задачи, идеи и планы.
2. Структура экрана
Header (верхняя панель)
Слева: кнопка «Отмена».
Справа: индикатор режима (например, «Итог дня», «План на завтра»), если выбран Voice Template.
Основная зона
Анимация аудиоволны в реальном времени.
Таймер записи.
Поле для live-транскрипции (текст появляется постепенно).
Кнопка «Маркер» для выделения ключевого момента (позже отображается в транскрипте).
Управление записью
Крупная круглая кнопка «Стоп».
Кнопки по бокам: «Пауза» и «Отмена».
Состояние после завершения
Заголовок: «Что я услышал».
Списки по блокам (Свершилось, Важное, В планах и т. д.) с цветовой кодировкой.
Раздел «Найденные задачи»: таблица с полями (Название, Дата/срок, Приоритет, Теги, Исполнитель*). (*в будущем).
Кнопки действий: «Сохранить», «Редактировать всё», «Сделать шаблоном».
Bottom sheet подсказок (опционально)


Советы по диктовке («Говорите короткими предложениями», «Используйте "завтра/послезавтра" для сроков»).
Выбор Voice Template (Итог дня, План недели, Ретро и т. д.).
3. Визуальный дизайн
Фон: Surface (Porcelain в светлой, Mocha в тёмной теме).
Аудиоволна: акцентный цвет текущего блока (динамически меняется в зависимости от AI-контекста или выбранного шаблона).
Текст транскрипта: Primary текст (Espresso / Linen Light), серый вторичный для метаданных.
Кнопка «Стоп»: яркий акцент (Terracotta).
Кнопка «Пауза»: более мягкий (Honey Gold).
Анимация волны плавная, частота 1:1 с голосом.
4. Поведение и логика
Нажатие «Стоп» запускает AI-пайплайн:
Распознавание речи (ASR).
Разделение на предложения/смыслы.
Извлечение намерений (сделал, не сделал, план, идея, перенос, важное).
Генерация названия задачи ≤ 60 символов.
Создание описания, сроков, тегов, приоритета.
Определение категории (блок).
Анализ настроения (Mood-from-Voice).
Результат отображается в списке по блокам.
5. Управление задачами на экране результата
Каждую задачу можно редактировать inline (название, срок, тег).
Возможность удалить задачу из списка (свайп влево).
Возможность переместить задачу в другой блок.
Возможность назначить повтор или делегировать (будущий релиз).
6. Состояния
Активная запись: волна + таймер + подсказки.
Пауза: волна замерла, кнопка «Продолжить».
Завершение: волна исчезает, отображаются результаты AI.
Ошибка распознавания: сообщение «Не удалось распознать. Попробовать снова?» с кнопкой «Повторить».
7. Уведомления и нуджи
Если пользователь остановил запись слишком рано (<10 сек): подсказка «Запишите чуть подробнее, чтобы задачи были точнее».
Если AI не уверен в дате: запрос уточнения («Вы имели в виду завтра или послезавтра?»).
При шаблоне «Итог дня» и отсутствии явных задач: «Хотите сохранить запись как "Идея на потом"?».
8. Метрики
Начало/завершение записи.
Количество маркеров за запись.
Длительность аудио.
Количество сгенерированных задач.
% задач, изменённых вручную до сохранения.
% ошибок распознавания.
9. Критерии приёмки
Кнопки «Стоп/Пауза/Отмена» всегда доступны и работают корректно.
AI корректно формирует хотя бы одну задачу при нормальном аудио.
Inline-редактирование не ломает транскрипт.
VoiceOver зачитывает: «Запись идёт, время XX секунд, кнопка Стоп».
Переход из «Дом» → «Запись» и обратно без потери данных.
Пункт 3 — Экран «Календарь»
1. Назначение экрана
Отображение всех задач в формате календаря. Пользователь видит распределение дел по датам, их статусы и может быстро перейти к деталям дня.
2. Структура экрана
Header
Левая кнопка: «Сегодня».
Центр: название месяца («Ноябрь 2025»).
Правая кнопка: переключение вида (месяц / неделя / день).
Основная зона (варианты представления)
Вид «Месяц»:
Сетка календаря.
Каждая ячейка (день) содержит:
Маленькую stack-полоску (горизонтальная линия из цветных сегментов — доли задач по статусам).
Точку настроения (цвет/эмодзи).
Число задач в виде цифры.
Вид «Неделя»:
Горизонтальный список дней недели.
Под каждым днём блок задач, визуализированных цветными чипами.
Вид «День»:
Вертикальная шкала времени.
Задачи отображаются в блоках (пиллы), окрашенные по статусу.
Возможность drag-and-drop для переноса.
Карточка дня (по нажатию на дату)
Сводка:
Процент выполненных задач.
Иконка настроения.
Топ-теги дня.
Списки задач по блокам (в том же порядке, что на экране «Дом»).
Управление: кнопки «Прослушать запись дня», «Перенести все задачи на…», «Сформировать отчёт».
Bottom Navigation
Таббар: Дом, Календарь, Таймлайн, Аналитика, Чат.
3. Визуальный дизайн
Фон: светлая тема — Bone #F7F2EB; тёмная — Cocoa #181412.
Ячейки календаря: светлая тема — Porcelain #FCFAF7; тёмная — Mocha #211C19.
Текст дат: активная дата — акцент (Cornflower #6A8CCB), неактивные — Secondary (Tobacco / Taupe).
Stack-полоски: цвет соответствующего статуса (Moss, Terracotta, Honey, Cornflower, Orchid и др.).
Mood-точка: цвет в зависимости от анализа голоса.
Карточка дня: фон Surface, радиус 20, тени мягкие.
4. Поведение и логика
Переключение вида: свайп влево/вправо или кнопка переключателя.
Тап по дате: открывает карточку дня.
Long-press по дате: быстрый ввод задачи (голосом или текстом).
Drag-and-drop (в неделе/дне): перенос задачи на другую дату/время.
AI-функция: при множестве переносов в день → подсказка «Хочешь выделить слот для задач?».
5. Состояния
Empty day: отображается иллюстрация и кнопка «Записать итог/план».
Overdue задачи: отображаются сверху карточки дня отдельным блоком.
Много задач в дне: включается сворачивание блоков и счётчик «+N ещё».
6. Уведомления и нуджи
Вечером: «Ты перенёс 4 задачи на завтра. Хочешь выделить время для них?»
Утром: «В твоём плане 3 задачи на сегодня. Запишем голосом новые?».
7. Метрики
Количество переходов в календарь.
Популярный вид (месяц / неделя / день).
Количество открытых карточек дня.
Количество быстрых добавлений задач через long-press.
Количество переносов drag-and-drop.
8. Критерии приёмки
Все три вида (месяц, неделя, день) работают корректно.
Цвета и полоски отображаются в соответствии с реальными данными задач.
Mood-точка отображается при наличии анализа голоса.
Перенос drag-and-drop обновляет дату/время задачи.
Переходы между видами не ломают навигацию.
VoiceOver зачитывает: «12 ноября, 3 задачи: 2 выполнено, 1 запланировано».
Пункт 4 — Экран «Таймлайн»
1. Назначение экрана
Дать пользователю ленту всех записей и дней в хронологическом порядке. Это аналог «журнала действий»: каждая карточка дня содержит задачи, настроение, теги и доступ к исходной записи. Подходит для ретроспективы и поиска.
2. Структура экрана
Header
Центр: «Таймлайн».
Справа: иконка поиска.
Слева: кнопка фильтрации (по статусам, тегам, датам).
Основная зона (лента)
Карточки дней, отображаемые вертикальным списком:
Заголовок: дата («Пн, 11 ноября»).
Прогресс дня: процент выполненных задач (progress ring).
Иконка настроения (результат анализа голоса).
Хэштеги/чипы: #работа, #спорт и т. д.
Список ключевых задач (3–4 заголовка), с цветными индикаторами статусов.
Кнопка «Показать ещё» для раскрытия полного списка задач.
Иконка воспроизведения для исходного голосового.
Карточка записи (опционально в ленте)
Если запись не связана с задачами, показывается как «свободная заметка».
Заголовок AI (например, «Мысли о проекте»).
Текст транскрипта (короткий превью).
Кнопка «Развернуть» → открывает полный текст.
Bottom Navigation
Дом, Календарь, Таймлайн, Аналитика, Чат.
3. Визуальный дизайн
Фон: нейтральный (Bone #F7F2EB или Cocoa #181412).
Карточка дня: фон Surface (Porcelain / Mocha), радиус 20, мягкая тень.
Прогресс дня: кольцо, цвет сегмента зависит от статусов (stack цветов).
Mood: эмодзи или цветовая точка (например, зелёный = позитив, красный = стресс).
Теги: чипы в акцентных цветах.
Иконки: SF Symbols (минималистичные).
4. Поведение и логика
Свайп вниз — обновление ленты.
Поиск: полнотекстовый (по транскриптам, тегам, статусам).
Фильтрация: выбор категорий задач, настроений, диапазона дат.
Тап по карточке дня → разворот на полный список задач и переход к «Карточке дня» из календаря.
Тап по задаче → открывает «Карточку задачи».
Тап по иконке воспроизведения → проигрывает оригинальное аудио.
5. Состояния
Пусто (новый пользователь): экран приветствия + CTA «Запишите первую задачу, чтобы увидеть её здесь».
Много данных: включается lazy loading; карточки подгружаются партиями.
Поиск без результатов: сообщение «Ничего не найдено» + предложение снять фильтры.
6. Уведомления и нуджи
При длительном бездействии: «Хочешь взглянуть на свой прогресс за последние 7 дней?».
При большом количестве «застрявших» задач: «Посмотри, какие задачи чаще всего откладываются».
7. Метрики
Количество открытий экрана.
Количество просмотренных карточек.
Использование поиска и фильтрации.
Количество переходов из таймлайна в задачи/карточки дней.
8. Критерии приёмки
Лента отображается в правильной хронологии.
Карточки содержат корректное число задач и их статусы.
Поиск возвращает результаты по ключевым словам из транскриптов.
Mood отображается, если AI-аналитика доступна.
VoiceOver зачитывает: «11 ноября, выполнено 3 из 5 задач, настроение спокойное».
Пункт 5 — Экран «Аналитика»
1. Назначение экрана
Предоставляет пользователю агрегированные данные по его активности: количество выполненных и невыполненных задач, тенденции, распределения по категориям, связь настроения и продуктивности. Служит инструментом мотивации и выявления закономерностей.
2. Структура экрана
Header
Центр: «Аналитика».
Справа: переключатель диапазона (Неделя / Месяц / Пользовательский период).
KPI-плашки (верхний блок)
Выполнено задач (% и количество).
Перенесено задач (% и количество).
Среднее время закрытия задачи.
Стreak (количество дней подряд с голосовыми).
Графический блок
Line Chart: динамика выполнения задач по дням недели.
Pie Chart: распределение задач по категориям (работа, спорт, быт, идеи и т. д.).
Bar Chart: количество переносов по дням недели (на каких днях чаще всего откладываются).
Scatter/Line: корреляция «настроение vs количество выполненных задач».
AI-отчёт (сводка)
Короткий текстовый вывод:
«На этой неделе ты чаще всего переносил бытовые задачи».
«По понедельникам у тебя снижается продуктивность».
«Спорт положительно коррелирует с выполнением задач».
Под каждым инсайтом — кнопка действия («Создать привычку», «Выделить слот», «Поставить напоминание»).
Bottom Navigation
Дом, Календарь, Таймлайн, Аналитика, Чат.
3. Визуальный дизайн
Фон: нейтральный (Bone #F7F2EB или Cocoa #181412).
Карточки KPI: фон Surface, радиус 16, мягкая тень. Акценты — цвета статусов.
Графики: минимализм, без сетки, только ключевые оси. Акцентные цвета берутся из палитры блоков (Moss, Terracotta, Honey, Cornflower, Orchid и др.).
AI-отчёт: отдельный блок с иконкой аналитики и цветовой подсветкой ключевых фраз.
4. Поведение и логика
Переключатель диапазона меняет данные всех графиков.
Тап по сегменту графика → раскрытие деталей (например, список задач из этого сегмента).
AI-отчёт обновляется по итогам периода (еженедельный и ежемесячный отчёт).
Кнопки действий создают новые задачи/слоты прямо из инсайта.
5. Состояния
Пусто (новый пользователь): сообщение «Недостаточно данных для аналитики. Запишите хотя бы 3 дня подряд».
Недостаточно данных для корреляции: блок «Связь настроения и задач появится после 5 дней записей».
6. Уведомления и нуджи
Каждую пятницу: «Готов твой отчёт недели. Открой, чтобы узнать инсайты».
В конце месяца: «AI подготовил обзор месяца. Сравни с прошлым периодом».
7. Метрики
Количество открытий аналитики.
Используемый диапазон (неделя/месяц/другое).
Количество действий по инсайтам (созданные привычки, выделенные слоты).
Количество шеров отчётов (экспорт/поделиться).
8. Критерии приёмки
Графики отображают корректные данные в выбранном диапазоне.
Цвета сегментов совпадают с цветовыми кодами статусов.
AI-отчёт всегда формируется при наличии данных.
Кнопки действий создают задачи/слоты без ошибок.
VoiceOver зачитывает KPI и заголовки графиков последовательно.
Пункт 6 — Экран «Чат»
1. Назначение экрана
Обеспечить пользователю диалог с AI-ассистентом для:
поиска информации в прошлом (что сделано, что перенесено, когда выполнял то или иное),
получения советов по продуктивности,
создания или изменения задач голосом/текстом в формате общения.
2. Структура экрана
Header
Центр: «Чат».
Справа: иконка настроек чата (очистка истории, выбор стиля ответов).
Зона диалога
Сообщения пользователя: справа, фон светлый акцент (Cornflower в светлой теме / Cornflower Tint в тёмной).
Сообщения AI: слева, фон Surface, иконка ассистента (аватар).
Каждое сообщение может содержать:
Текст.
Ссылки на задачи или дни (deep-links).
Карточки-ответы (списки задач, статистика).
Поддержка отображения кнопок-действий (например: «Перенести на завтра», «Добавить в календарь»).
Input-бар
Поле ввода текста.
Кнопка микрофона (голосовой ввод).
Кнопка отправки (стрелка).
Подсказки
Над клавиатурой или в placeholder: примеры команд («Что я делал 12 ноября?», «Покажи все задачи по #спорт», «Когда я последний раз оплачивал счета?»).
Bottom Navigation
Дом, Календарь, Таймлайн, Аналитика, Чат.
3. Визуальный дизайн
Фон: нейтральный (Bone #F7F2EB или Cocoa #181412).
Сообщения пользователя: закруглённые прямоугольники, цветовые акценты, текст Primary.
Сообщения AI: карточки на Surface (Porcelain / Mocha), текст Primary, вторичный для ссылок.
Карточки-ответы: фон Surface, радиус 16, тень минимальная.
Анимации: плавное появление сообщений, скролл-автопрокрутка вниз.
4. Поведение и логика
Ввод текста → мгновенная отправка на AI → ответ в виде текста или карточек.
Голосовой ввод → транскрипция → ответ аналогично тексту.
Deep-links: тап по ссылке «15 ноября» открывает карточку дня; тап по задаче открывает карточку задачи.
Возможность уточнения («Покажи подробнее», «Разверни список»).
Поддержка поиска: ввод «/поиск слово» выдаёт задачи/записи.
5. Состояния
Пустой чат (новый пользователь): приветствие от ассистента, примеры команд.
Нет данных по запросу: ответ «Не нашёл задач по #спорт за указанный период».
Ошибка AI: сообщение «Не удалось обработать, повторите запрос».
6. Уведомления и нуджи
При неактивности > 7 дней: «Хочешь вспомнить, что делал на прошлой неделе?» → ссылка на чат.
При большом количестве задач в статусе «Застряло»: «У тебя 5 задач, которые тянутся больше недели. Показать?»
7. Метрики
Количество обращений к чату.
Доля голосовых запросов vs текстовых.
Частота использования deep-links.
Количество действий из карточек-ответов.
8. Критерии приёмки
Сообщения всегда отображаются в хронологическом порядке.
Deep-links открывают корректные экраны.
Голосовой ввод работает аналогично текстовому.
AI корректно отвечает при наличии данных.
VoiceOver зачитывает сообщения с разделением: «Пользователь сказал…», «Ассистент ответил…».
Пункт 7 — Экран «Карточка задачи»
1. Назначение экрана
Предоставить детальную информацию по конкретной задаче: что это, откуда появилась (голос/чат), в каком статусе, какие сроки, теги и связи. Дать возможность редактировать и управлять ею.
2. Структура экрана
Header
Левая кнопка: «Назад».
Справа: меню (Удалить, Поделиться, Переместить в приватное).
Основная зона
Заголовок задачи (редактируемый).
Подзаголовок/описание (сгенерированное AI, можно редактировать).
Блок статуса (с цветным индикатором).
Блок срока: дата, время, повтор (с иконкой календаря).
Блок приоритета (низкий / нормальный / высокий).
Блок тегов (чипы, редактируемые).
Блок связей (зависимости от других задач, ссылки на проекты/дни).
Исполнители (в будущем: список пользователей, если делегировано).
Вложения
Оригинальное аудио (с кнопкой «▶ прослушать»).
Транскрипт (текст с возможностью скролла; маркеры с таймкодами).
Подзадачи (список, с чекбоксами).
Файлы/фото (миниатюры, открываются в просмотр).
Блок быстрых действий
Кнопка «Сделано».
Кнопка «Snooze» (вечером / завтра / выходные / выбрать дату).
Кнопка «Перенести» (выбор даты/времени).
Кнопка «Делегировать» (будущий релиз).
Кнопка «Поделиться» (создать карточку для соцсетей или переслать).
История изменений
Лента: «Создано 12.11.2025 в 21:43», «Перенесено 14.11.2025 на 16:00», «Статус изменён на Сделано».
3. Визуальный дизайн
Фон: Surface (Porcelain / Mocha).
Заголовок: SF Pro, 22–24, жирный.
Описание: SF Pro, 16–17, вторичный цвет.
Статус: цветная метка из палитры (Moss, Terracotta и т. д.).
Срок: иконка календаря, текст Primary.
Приоритет: точка (•) красная/жёлтая/зелёная.
Теги: чипы с мягкими акцентными цветами.
Вложения: карточки с радиусом 12, фон Surface Alt.
4. Поведение и логика
Тап по заголовку → inline-редактор.
Тап по сроку → Bottom sheet с датой/временем.
Тап по тегу → список всех тегов, можно выбрать/создать новый.
Тап по аудио → воспроизведение (с прогресс-баром).
Тап по подзадаче → отметить выполненной.
Тап по файлу → полноэкранный просмотр.
Кнопка «Сделано» меняет статус на «Свершилось» и фиксирует в истории.
Snooze предлагает пресеты (сегодня вечером, завтра, выходные) или выбор даты.
5. Состояния
Обычная задача: все блоки доступны.
Простая заметка: нет срока, приоритета, вложений.
Приватная задача: появляется иконка замка, отсутствует кнопка «Поделиться».
Просроченная задача: срок подсвечен красным.
6. Метрики
Количество редактирований заголовка/описания.
Количество Snooze/переносов.
Количество проигрываний оригинального аудио.
Количество добавленных/закрытых подзадач.
7. Критерии приёмки
Все блоки корректно отображают данные, пришедшие от AI.
Изменения сохраняются мгновенно.
История фиксирует все действия (переносы, статусы).
Аудио воспроизводится без ошибок.
VoiceOver зачитывает задачу: заголовок → статус → срок → описание → вложения.
Пункт 8 — Экран «Карточка дня»
1. Назначение экрана
Дать пользователю концентрированное представление о конкретном дне: выполненные задачи, планы, настроение, теги, исходная запись. Используется для ретроспективы и для редактирования задач дня.
2. Структура экрана
Header
Левая кнопка: «Назад».
Центр: дата в формате «Вт, 12 ноября 2025».
Правая кнопка: меню (экспорт, поделиться, удалить запись дня).
Сводка дня (верхний блок)
Прогресс-кольцо: % выполненных задач.
Плашка с количеством задач: выполнено, перенесено, не выполнено.
Иконка настроения (результат анализа голоса).
Топ-3 тега (чипы).
Основная зона (списки задач)
Секции по блокам:
Свершилось.
Важное.
В планах.
Застряло.
На паузе.
Ожидает ответа.
Делегировано.
Повторяющееся.
Идеи на потом.
В каждой секции — список задач в формате карточек (как на экране «Дом»).
Возможность сворачивать/разворачивать блоки.
Исходная запись дня
Кнопка «▶ Прослушать аудио».
Транскрипт (короткий превью, раскрывается по тапу).
Управление
Кнопка «Перенести все невыполненные на…» (выбор даты).
Кнопка «Сформировать дневной отчёт» (PDF или карточка для соцсетей).
Bottom Navigation
Дом, Календарь, Таймлайн, Аналитика, Чат.
3. Визуальный дизайн
Фон: Surface (Porcelain в светлой теме / Mocha в тёмной).
Сводка: отдельная карточка с радиусом 20, фон нейтральный, текст Primary.
Прогресс-кольцо: сегменты окрашены в цвета статусов (зелёный = сделано, красный = не сделано, синий = план и т. д.).
Иконка настроения: цветовая точка или эмодзи, рядом подпись («спокойный», «энергичный»).
Задачи: карточки по стандарту, с чекбоксами и метаданными.
Кнопки управления: крупные, внизу экрана, заливка акцентным цветом (Cornflower или Honey Gold).
4. Поведение и логика
Тап по задаче → открывается «Карточка задачи».
Тап по кнопке «Перенести все…» → Bottom sheet с вариантами дат (завтра, послезавтра, выбрать).
Тап по кнопке «Сформировать отчёт» → выбор формата (PDF, картинка).
При воспроизведении аудио отображается прогресс-бар и кнопка «Пауза».
5. Состояния
Полный день: все блоки заполнены.
Частичный день: часть блоков пуста (отображается текст «Нет задач в этом разделе»).
Новый пользователь: карточка дня содержит только исходную запись.
Переносы: невыполненные задачи подсвечены оранжевым.
6. Метрики
Количество открытий карточки дня.
Количество прослушиваний аудио.
Количество сформированных отчётов.
Количество массовых переносов задач.
7. Критерии приёмки
Прогресс-кольцо и статистика совпадают с данными задач.
Mood отображается при наличии анализа голоса.
Массовый перенос корректно изменяет даты задач.
Отчёт формируется без ошибок, доступен в обоих форматах.
VoiceOver зачитывает: «12 ноября. Выполнено 8 из 12 задач. Настроение спокойное».
Пункт 9 — Уведомления и напоминания
1. Назначение
Функция удержания и мотивации. Напоминания помогают пользователю регулярно записывать голосовые заметки, завершать задачи и анализировать результаты. Уведомления построены так, чтобы стимулировать действие, но не раздражать.
2. Типы уведомлений
Ежедневные напоминания
Утренние: «Составь план на день — это займёт 1 минуту».
Вечерние: «Подведём итог дня — скажи голосом, что сделал».
Дневные (гибко): «Хочешь быстро зафиксировать, что сделал к этому часу?».
Событийные
Если задачи перенесены более 2 раз: «У тебя есть 3 задачи, которые всё время откладываются. Сделаем хотя бы одну сегодня?».
Если streak на грани обрыва: «Сегодня твой 7-й день подряд. Запиши итог и продли серию».
При завершении недели: «Хочешь увидеть отчёт за неделю?».
При накоплении идей: «Ты собрал 5 идей на потом. Может, пора превратить одну из них в задачу?».
Мотивационные
Короткие цитаты или советы: «Лучший план — тот, который ты проговорил».
Индивидуальные подсказки: «Ты чаще всего откладываешь дела в понедельник. Может, начнём с чего-то лёгкого?».
AI-уведомления (Pro)
Персонализированные нуджи, основанные на анализе поведения: «Во вторник ты продуктивнее вечером. Добавить туда слот для задач?».
Голосовые напоминания твоим же голосом («Ты обещал сделать спорт сегодня вечером»).
3. UI внутри приложения
Раздел «Напоминания» в настройках:
Переключатели для утренних/вечерних/дневных уведомлений.
Выбор времени (часы/минуты).
Интенсивность уведомлений (минимум / стандарт / расширенные).
Опция «Мотивация» (вкл./выкл.).
Для Pro: включение голосовых напоминаний.
Push-уведомления на экране блокировки:
Краткий текст (≤ 80 символов).
Быстрые действия: «Записать» (открывает запись), «Отложить» (перенос на 1 час).
4. Визуальный дизайн
Фон уведомлений — нейтральный, без агрессивных цветов.
Текст — короткий, с ключевым словом выделенным жирным («Запиши итог», «3 задачи ждут»).
Иконка приложения + акцентный цвет (Cornflower в светлой теме, Cornflower Tint в тёмной).
5. Поведение и логика
Уведомления подстраиваются под поведение (AI-паттерны):
Если пользователь обычно делает запись утром, вечернее уведомление не отправляется.
Если задачи часто переносятся, AI предлагает фокус-слот.
Snooze уведомления → откладывает напоминание на заданное время.
Голосовые уведомления (Pro) — воспроизводятся через системный плеер.
6. Метрики
Количество доставленных уведомлений.
Количество нажатий на уведомления.
Доля отклонённых уведомлений.
Конверсия уведомлений в действия (например, «записать» → фактическая запись).
7. Критерии приёмки
Уведомления приходят в выбранное пользователем время.
Быстрые действия работают: «Записать» открывает экран записи, «Отложить» переносит уведомление.
Голосовые уведомления (Pro) воспроизводятся корректно.
AI-уведомления персонализированы на основе данных.
VoiceOver зачитывает уведомления полностью.
Пункт 10 — Экран «Настройки / Темы / Безопасность»
1. Назначение
Собрать все параметры персонализации, безопасности и интеграций в одном месте. Дать пользователю контроль над темами, уведомлениями, синхронизацией и приватностью.
2. Структура экрана
Header
Центр: «Настройки».
Справа: иконка поиска (быстрый поиск по настройкам).
Разделы
2.1 Темы и оформление
Переключатель «Светлая / Тёмная / Системная».
Подраздел «Цветовые акценты»: выбор акцентной палитры (по умолчанию — тёплые тона: коричневый, бежевый, золотистый).
Предпросмотр в реальном времени (карточка-превью).
Опция (Pro): кастомные темы — пользователь выбирает фон, акцент и вторичный цвет.
2.2 Уведомления
Переключатели: утренние, дневные, вечерние напоминания.
Таймпикеры для каждого.
Чекбокс: «Мотивационные уведомления».
Pro: «Голосовые уведомления моим голосом».
2.3 Безопасность
Включение Face ID / Touch ID.
Установка PIN-кода.
Переключатель «Блокировать при выходе из приложения».
Опция «Приватные записи» (иконка замка, скрываются из поиска и аналитики).
Pro: включение E2EE-бэкапов (с пояснением).
2.4 Синхронизация и аккаунт
Подключение iCloud (состояние: синхронизировано / ошибка).
Multi-device (отметка активных устройств).
Управление аккаунтом: почта, подписка (Free / Pro), кнопка «Управлять подпиской».
2.5 Интеграции
Apple Calendar (переключатель, выбор календарей).
Apple Reminders (переключатель).
Apple Health (сон/активность).
Siri Shortcuts (список команд: «Записать итог», «Показать задачи на завтра»).
2.6 Справка и поддержка
«О приложении» (версия, лицензия).
«Написать в поддержку».
«Политика конфиденциальности».
3. Визуальный дизайн
Фон: нейтральный (Bone / Cocoa).
Разделы: карточки с радиусом 16, фон Surface.
Иконки: минималистичные (SF Symbols), акцентные цвета.
Переключатели: классические iOS toggle, цвет акцента (Cornflower или Honey).
Превью тем: карточки с фоном и текстом, показывающие, как изменится интерфейс.
4. Поведение и логика
Переключение темы сразу обновляет интерфейс.
Кастомные акценты доступны только в Pro (экран апсейла при попытке включить).
Включение Face ID → системный запрос доступа.
Приватные записи доступны только при входе по Face ID / PIN.
Включение интеграции с Apple Calendar / Reminders требует системного разрешения.
5. Состояния
Free-аккаунт: часть настроек скрыта (например, E2EE, кастомные акценты, голосовые уведомления).
Pro-аккаунт: все разделы доступны.
Ошибка синхронизации: статус «Не удалось синхронизировать», кнопка «Повторить».
6. Метрики
Количество пользователей, переключивших тему.
Количество пользователей с активированным Face ID / PIN.
Доля пользователей, включивших интеграции.
Популярность кастомных акцентов (в Pro).
7. Критерии приёмки
Все переключатели сохраняют состояние после выхода.
Переключение тем и акцентов применяется мгновенно.
Face ID / PIN корректно блокируют вход.
Приватные записи действительно скрываются из поиска и аналитики.
Интеграции работают только при разрешении со стороны iOS.
VoiceOver корректно зачитывает названия разделов и текущие состояния переключателей.
Пункт 11 — Палитра цветов
1. Назначение
Создать гармоничную систему цветовых токенов для светлой и тёмной темы. Использовать богатые тёплые оттенки (коричневые, бежевые, золотистые) вместо резких и холодных. Цвета должны обеспечивать контраст, удобство чтения и соответствовать статусам задач.
2. Светлая тема (Warm Light)
Нейтральные тона
Background: Bone #F7F2EB
Surface (карточки): Porcelain #FCFAF7
Surface Alt (списки, дополнительные слои): Linen #F1EAE1
Text Primary: Espresso #2F2925
Text Secondary: Tobacco #5B514A
Divider: Parchment #E6DED3
Акценты по статусам
Свершилось: Moss Green #6B8E6D
Застряло: Terracotta #C86B5A
На паузе: Honey Gold #D9A441
В планах: Cornflower Blue #6A8CCB
Важное: Orchid Purple #8C6BB1
Идеи: Warm Grey #9A8F86
Ожидает ответа: Teal Mist #5AA6A6
Делегировано: Olive #7A8C53
Повторяющееся: Mint #8FC7A0
Состояния элементов
Hover/Pressed: затемнение или осветление на 10%.
Disabled: текст #B8AEA4, фон #EFE8DF.
3. Тёмная тема (Cocoa Dark)
Нейтральные тона
Background: Cocoa #181412
Surface (карточки): Mocha #211C19
Surface Alt: Cacao #2A241F
Text Primary: Linen Light #EFE8DF
Text Secondary: Taupe #B9B0A7
Divider: Mocha Line #3A322C
Акценты по статусам (осветлённые версии)
Свершилось: Moss Tint #A4D4AE
Застряло: Terracotta Tint #E69A91
На паузе: Honey Tint #E6C98B
В планах: Cornflower Tint #90B4E8
Важное: Orchid Tint #B79BEB
Идеи: Warm Grey Tint #B8AEA4
Ожидает ответа: Teal Tint #79BDBD
Делегировано: Olive Tint #9BB072
Повторяющееся: Mint Tint #A9D8B7
Состояния элементов
Hover/Pressed: осветление на 10%.
Disabled: текст #6F665F, фон #2A241F.
4. Применение палитры
Фоновые поверхности: нейтральные оттенки (Bone / Cocoa).
Карточки: Surface / Surface Alt.
Текст: Espresso/Tobacco в светлой, Linen Light/Taupe в тёмной.
Статусы задач: цветные маркеры, полосы в календаре, сегменты в графиках, прогресс-кольцах.
Кнопки: фон = акцент, текст = белый или чёрный в зависимости от контраста.
Графики: используют ту же палитру акцентов для консистентности.
5. Правила темизации
Авто-переключение (по системной теме iOS).
Ручное переключение в настройках.
В Pro — кастомизация акцентных цветов (пользователь может заменить, например, Cornflower на Amber).
Контрастность рассчитывается динамически: всегда ≥ WCAG AA.
Цветовые метки статусов сохраняют идентичность (зелёный всегда Done, красный — Stuck и т. д.), но оттенки разные для светлой и тёмной темы.
Пункт 12 — AI-пайплайн (голос → задачи)
1. Назначение
Определяет, как приложение обрабатывает голосовые записи, чтобы превратить их в структурированные задачи, идеи и планы. Это центральный алгоритмический блок, обеспечивающий ценность продукта.
2. Этапы обработки
2.1 Захват аудио
Источник: встроенный микрофон (через AVFoundation).
Запись формата AAC / 16 kHz (оптимально для ASR).
Опция шумоподавления (on-device).
Возможность постановки маркеров во время записи (таймкоды).
2.2 Распознавание речи (ASR)
Поддержка русского и английского (автоопределение).
Сценарии:
Короткая запись (план на завтра).
Длинная запись (итог дня).
ASR работает он-девайс или через облако (в зависимости от подписки).
Результат: транскрипт с таймкодами.
2.3 Сегментация текста
Деление транскрипта на смысловые фрагменты.
Алгоритмы: пунктуация + модели сегментации по намерениям.
Каждый фрагмент = потенциальная задача или заметка.
2.4 Извлечение намерений (Intent Extraction)
AI классифицирует фрагмент:
Сделано (Done).


Не сделано (Stuck).


Перенос (Paused).
План (Planned).
Важное (Important).
Идея (Idea).
Ожидание ответа (Waiting).
Делегировано (Delegated).
Повторяющееся (Recurring).
2.5 NER (Named Entity Recognition)
AI находит в тексте:
Даты и время ("завтра в 10", "в среду вечером").
Повторы ("каждую пятницу", "раз в месяц").
Людей ("позвонить Анне").
Локации ("в спортзал").
Категории (работа, спорт, быт).
Деньги/суммы (для задач типа "оплатить").
2.6 Генерация задачи (Task Composer)
Для каждого фрагмента AI формирует:
Название: ≤ 60 символов, краткое (пример: "Оплатить интернет").
Описание: детализированное (пример: "Счёт за октябрь, провайдер Дом.ру").
Дата/время: если определено.
Приоритет: низкий/средний/высокий.
Теги: #работа, #спорт, #финансы.
Статус: по результату Intent Extraction.
Связь с проектом или человеком (будущий релиз).
2.7 Анализ настроения (Mood-from-Voice)
Из тембра, скорости и словаря извлекается эмоциональный маркер: спокойный / напряжённый / радостный.
Сохраняется как mood-точка в календаре.
2.8 Проверка уверенности (Confidence Gate)
Если модель уверена < 0.7 → пользователь получает уточняющий вопрос:
 «Вы имели в виду завтра или послезавтра?»
Если данные распознаны уверенно → создаются задачи автоматически.
2.9 Запись в систему
Создание задач.
Обновление записи дня (связь с календарём и таймлайном).
Отправка событий в аналитику.
3. Поведение в интерфейсе
После «Стоп» запись → отображается транскрипт + список задач, разложенных по блокам.
Если AI не уверен в сроке → всплывает inline-уточнение.
Если запись пустая (нет задач) → предложение сохранить как «Идею на потом».
Пользователь может отредактировать результат перед сохранением.
4. Метрики
Средняя точность извлечения задач (% без правок).
Количество уточняющих запросов от AI.
Средняя длина записи.
Доля пользователей, использующих маркеры.
5. Критерии приёмки
ASR корректно транскрибирует запись ≥ 90% точности при нормальном шуме.
Все намерения классифицируются в один из блоков.
Название задачи всегда формируется.
Низкая уверенность → запрос уточнения.
Результаты отображаются на экране «Запись» и сохраняются в календарь.
Пункт 13 — Интеграции
1. Назначение
Обеспечить синхронизацию задач и событий с системными сервисами iOS и другими приложениями. Это повышает ценность продукта и уменьшает дублирование.
2. Поддерживаемые интеграции
2.1 Apple Calendar
Сценарии:
Экспорт задач с конкретной датой/временем → событие в календаре.
Импорт событий → отображение в календаре приложения (опция в настройках).
UI: в настройках переключатель «Синхронизировать с Apple Calendar» и выбор конкретных календарей.
Логика: двусторонняя синхронизация; при конфликте — окно разрешения ("Что оставить: версию из приложения или из календаря?").
2.2 Apple Reminders
Сценарии:
Экспорт простых задач (без аудио и тегов) → напоминания.
Импорт напоминаний → конвертация в задачи приложения.
UI: переключатель в настройках «Интеграция с Напоминаниями».
2.3 Apple Health
Сценарии:
Получение данных о сне и физической активности.
В аналитике отображается связь: «Когда сон < 6 часов → выполнение задач снижается на 20%».
UI: переключатель «Доступ к Apple Health».
Приватность: пользователь выбирает, какие категории передавать (сон, активность).
2.4 Siri Shortcuts
Сценарии:
«Запиши итог дня» → сразу открывает экран записи.
«Покажи задачи на завтра» → открывает карточку дня.
«Что я делал вчера?» → открывает чат с предзаполненным запросом.
UI: в настройках список доступных команд, кнопка «Добавить в Siri».
3. Визуальный дизайн
Экран «Интеграции» в настройках: карточки с логотипами сервисов.
Статус подключения (подключено/не подключено).
Цвета брендов (Apple Calendar — красный, Reminders — голубой, Health — розовый, Siri — фиолетовый), но с приглушёнными оттенками, чтобы соответствовать общей палитре.
4. Поведение и логика
Первое включение → системный запрос разрешения.
Отмена → переключатель возвращается в «выкл.».
Ошибки синхронизации → сообщение «Не удалось синхронизировать, попробуйте снова».
Удаление интеграции → задачи и события остаются в приложении, но новые не синхронизируются.
5. Состояния
Free: доступно только Siri Shortcuts.
Pro: доступны все интеграции (Calendar, Reminders, Health).
6. Метрики
Количество подключений к каждому сервису.
Количество синхронизированных задач/событий.
Доля пользователей, которые включили Health-данные.
Количество запусков через Siri Shortcuts.
7. Критерии приёмки
Все интеграции активируются только с разрешения iOS.
Задачи корректно попадают в Apple Calendar и Reminders.
Health-данные отображаются только после согласия пользователя.
Siri-команды выполняют указанные сценарии.
При отключении интеграции данные в приложении сохраняются.
Пункт 14 — Безопасность и приватность
1. Назначение
Гарантировать пользователю контроль над своими данными: голосовыми записями, транскриптами, задачами. Обеспечить приватность уровня личного дневника и соответствие требованиям к безопасности.
2. Уровни безопасности
2.1 Доступ к приложению
Face ID / Touch ID.
PIN-код (4–6 цифр).
Переключатель «Блокировать при выходе из приложения» → запрос аутентификации при каждом входе.
2.2 Приватные записи
Пометка задачи или записи как «Приватная» (иконка замка).
Приватные записи:
не попадают в аналитику,
не индексируются в поиске,
открываются только после Face ID / PIN.
2.3 Локальное хранение
Все данные (транскрипты, задачи) хранятся зашифрованными на устройстве.
Аудиофайлы кодируются с использованием AES-256.
2.4 Синхронизация
Free: iCloud синхронизация стандартная.
Pro: End-to-End шифрование (E2EE) для аудио и транскриптов.
Multi-device: ключи шифрования передаются через iCloud Keychain.
2.5 Удаление данных
В настройках кнопка «Удалить все данные» → удаление локально и в облаке.
Отдельное удаление приватных записей.
3. Визуальный дизайн
В настройках раздел «Безопасность».
Переключатели: Face ID / PIN / Приватные записи.
Иконка замка рядом с приватной задачей или записью.
В приватных разделах фон карточки слегка затемнён.
4. Поведение и логика
При попытке открыть приватную запись → системный запрос Face ID / PIN.
При сбое Face ID → резервный PIN.
При включении E2EE → объяснение «Ключ хранится только у вас, восстановление невозможно».
При удалении данных → двойное подтверждение.
5. Состояния
Free: доступно Face ID / PIN, приватные записи.
Pro: E2EE-бэкапы, расширенная настройка приватности.
6. Метрики
Доля пользователей с активированным Face ID / PIN.
Количество приватных записей.
Доля Pro-пользователей, включивших E2EE.
Количество запросов на удаление данных.
7. Критерии приёмки
Все приватные записи скрываются из поиска и аналитики.
Аутентификация запрашивается всегда при входе в приватные разделы.
Удаление данных работает без остатка.
Face ID / PIN корректно работают даже при оффлайне.
E2EE включается только после подтверждения пользователем.
Пункт 15 — Монетизация
1. Назначение
Определить стратегию дохода приложения. Дать пользователю базовую ценность бесплатно и расширенный функционал за счёт подписки Pro.
2. Бесплатный план (Free)
Функции:
Запись голосовых заметок до 3 минут.
Автоматическая раскладка по блокам (сделано, план, идеи и т. д.).
Базовый календарь (месячный вид).
Карточка дня (ограничено без отчёта).
Таймлайн (только список последних 7 дней).
Поиск по тексту (без фильтров по тегам).
Напоминания: утро и вечер.
Face ID / PIN для доступа.
iCloud синхронизация стандартная.
Ограничения:
Без еженедельной/ежемесячной аналитики.
Без E2EE-бэкапов.
Нет интеграций (Calendar, Reminders, Health).
Нет голосовых уведомлений.
3. Подписка Pro
Функции:
Длинные записи (до 30 минут).
Расширенные блоки (ожидает ответа, делегировано, повторяющееся).
Полный календарь (месяц / неделя / день + drag-and-drop).
Таймлайн без ограничений, поиск с фильтрами (по тегам, статусам, настроению).
Еженедельные и ежемесячные AI-отчёты.
Расширенная аналитика (графики, корреляции, инсайты).
Голосовые уведомления (TTS своим голосом).
Интеграции: Apple Calendar, Reminders, Health, Siri Shortcuts.
Кастомные темы (выбор акцентных цветов).
E2EE-бэкапы (шифрование аудио и текста).
Экспорт: PDF отчётов, CSV задач, share-карточки.
Совместная работа (делегирование задач другим пользователям).
4. Модель подписки
Free trial: 7 дней Pro.
Подписка Pro:
Месячная.
Годовая (со скидкой ~30%).
Разовые платежи: нет. Только подписка.
5. UI для монетизации
В настройках раздел «Подписка».
Карточка с планами Free и Pro.
Кнопка «Перейти на Pro» → экран апсейла.
Экран апсейла:
Заголовок: «Раскрой весь потенциал приложения».
Списки преимуществ с иконками (длинные записи, аналитика, интеграции, приватность).
Кнопки выбора тарифа (месяц/год).
6. Метрики
Конверсия Free → Pro.
Retention Pro-пользователей (30/90 дней).
Средняя длительность подписки.
ARPU (средний доход на пользователя).
7. Критерии приёмки
Free-пользователь видит только базовые функции.
При попытке открыть Pro-функцию — экран апсейла.
Оплата через App Store проходит без ошибок.
Trial активируется один раз на аккаунт.
Все функции Pro становятся доступными сразу после оплаты.
Пункт 16 — Дорожная карта разработки
1. MVP (минимально жизнеспособный продукт)
Фокус: проверить ценность продукта «Голос → Задачи».
Экран «Дом»: запись и отображение задач по блокам.
Экран «Запись»: запись голоса, транскрипция, базовая AI-раскладка (сделано, план, идея).
Экран «Календарь»: месячный вид, переход в карточку дня.
Экран «Карточка задачи»: редактирование заголовка, срока, статуса.
Напоминания (утро/вечер).
Face ID / PIN для доступа.
iCloud синхронизация (базовая).
Светлая и тёмная тема.
Цель MVP: доказать, что пользователи будут регулярно диктовать и пользоваться AI-задачами.
2. Версия 1.0 (базовый релиз в App Store)
Фокус: расширение ценности и удержание.
Полноценный «Календарь» (месяц/неделя/день, drag-and-drop).
Экран «Таймлайн» (лента дней и записей).
Экран «Аналитика»: KPI-плашки + графики.
Экран «Чат»: AI-поиск по прошлым задачам.
Расширенные блоки (ожидает ответа, делегировано, повторяющееся).
Snooze и массовые переносы задач.
Уведомления: стандартные + события (например, streak, задачи на паузе).
Настройки: темы, уведомления, безопасность.
Siri Shortcuts (базовые).
Цель 1.0: создать полный цикл — «Записал → Выполнил → Посмотрел аналитику → Получил советы».
3. Версия 2.0 (Pro-ориентированный релиз)
Фокус: монетизация и расширенные функции.
Голосовые уведомления собственным голосом.
Расширенная аналитика (AI-отчёты недели/месяца с действиями).
Интеграции: Apple Calendar, Reminders, Health.
Совместная работа (делегирование задач другим пользователям).
E2EE-бэкапы (Pro).
Кастомные темы (смена акцентов).
Экспорт: PDF отчётов, CSV задач, share-карточки.
Автоматические фокус-слоты (AI предлагает время для «застрявших» задач).
WatchOS-клиент (быстрая запись + просмотр задач).
Цель 2.0: показать уникальность и готовность к масштабированию.
4. Версия 3.0+ (расширение экосистемы)
Фокус: удержание Pro и социальные механики.
Соц-фичи: анонимное «резюме недели» для друзей.
Автоматическое создание «ежедневных историй» (stories-карточки).
Рекомендации AI на основе глобальных паттернов (например, сравнение продуктивности с «средним по сообществу»).
Поддержка Android.
Web-версия (для доступа к аналитике и задачам).
Цель 3.0+: закрепиться как уникальный voice-first productivity tool.
5. Критерии приёмки дорожной карты
MVP даёт пользователю ценность через 1 минуту после установки.
Версия 1.0 обеспечивает полный цикл использования.
Версия 2.0 открывает платные возможности и поддерживает монетизацию.
Версия 3.0 формирует экосистему и социальное ядро.
Пункт 17 — KPI и продуктовые метрики
1. Назначение
Определить ключевые показатели, по которым будет измеряться успех продукта: активация, удержание, вовлечённость, эффективность AI и конверсия в Pro.
2. Основные метрики активации
D1 Activation Rate — доля пользователей, которые сделали первую запись и создали хотя бы одну задачу в первый день.
D7 Activation Rate — доля пользователей, которые записали ≥ 3 раза за первую неделю.
Time-to-Value — среднее время от установки до первого успешно сгенерированного списка задач (цель: < 5 минут).
3. Метрики удержания
Retention D7 / D30 — доля активных пользователей на 7-й и 30-й день.
Churn Rate — отток (сколько пользователей перестали использовать приложение).
Average Sessions per Week — количество сессий в неделю.
Streak Adoption — доля пользователей, поддерживающих streak ≥ 7 дней.
4. Метрики вовлечённости
Average Records per User / Week — количество голосовых записей в неделю.
Avg Task Creation per Record — среднее число задач из одной записи (цель: 3–5).
Task Completion Rate — % завершённых задач от общего числа.
Transfer Rate — % перенесённых задач (важно отслеживать привычку откладывать).
Usage of Tags — доля задач с тегами (признак глубины использования).
Chat Usage Rate — доля пользователей, использующих чат для поиска и анализа.
5. Метрики качества AI
AI Confidence Coverage — доля задач, созданных с уверенностью > 0.7.
Manual Edits Rate — % задач, изменённых вручную пользователем.
Error Rate (ASR) — % ошибок транскрипции.
Disambiguation Requests — количество случаев, когда AI запрашивал уточнения.
AI-generated Summaries Adoption — сколько пользователей читают/используют AI-отчёты недели.
6. Метрики монетизации
Free → Pro Conversion Rate — доля пользователей, которые перешли на подписку.
Trial Conversion Rate — сколько пользователей остаются после 7-дневного пробного периода.
ARPU (Average Revenue per User) — средний доход на пользователя.
LTV (Lifetime Value) — доход от пользователя за всё время использования.
Pro Retention D90 — удержание платных пользователей через 90 дней.
7. Дополнительные метрики
Crash-free Sessions — стабильность приложения.
Average Record Duration — средняя длина голосовой записи.
Data Privacy Adoption — доля пользователей, включивших приватные записи.
Integrations Usage Rate — сколько пользователей используют Calendar/Reminders/Health.
8. Критерии успеха
≥ 50% пользователей делают запись в первый день (активация).
Retention D30 ≥ 25%.
Среднее количество задач из записи ≥ 3.
Manual Edits Rate ≤ 20%.
Conversion Free → Pro ≥ 5% через 30 дней.
Crash-free Sessions ≥ 99,5%.
Пункт 18 — Тест-кейсы и edge-cases
1. Назначение
Определить сценарии тестирования, чтобы убедиться, что приложение стабильно работает во всех ситуациях, включая редкие и проблемные случаи.
2. Базовые тест-кейсы (Core Flow)
2.1 Запись и обработка
Начать запись, остановить через 30 секунд → задачи корректно сгенерированы.
Начать запись, остановить через 3 минуты (Free) → предупреждение «лимит записи», запись обрезается.
Начать запись, остановить через 20 минут (Pro) → задачи сгенерированы, транскрипт доступен полностью.
Сделать запись без явных задач ("Сегодня было неплохо") → AI сохраняет как «Идею на потом».
2.2 Управление задачами
Создать задачу вручную → отображается на экране «Дом».
Отметить задачу выполненной → перемещается в блок «Свершилось».
Перенести задачу на завтра → обновляется дата, отображается в календаре.
Удалить задачу → исчезает из всех экранов.
2.3 Календарь
Перейти в месяц, выбрать дату → открывается карточка дня.
Drag-and-drop задачи на другой день → дата обновляется.
Массовый перенос задач через «Перенести все» → корректно меняется дата у всех.
2.4 Таймлайн
Пролистать ленту на 30 дней назад → lazy loading работает.
Открыть старую запись → транскрипт и аудио доступны.
2.5 Аналитика
Неделя с 10 задачами: 6 выполнено, 4 перенесено → % отображается правильно.
Нет данных → сообщение «Недостаточно данных для аналитики».
2.6 Чат
Запрос «Что я делал вчера?» → AI возвращает список задач.
Запрос «Когда я делал спорт?» → AI находит по тегу.
Запрос «Покажи все задачи по #финансы» → фильтр по тегу.
3. Edge-cases (особые случаи)
3.1 Аудио и речь
Шумный фон → ASR должен отработать с ≥80% точностью.
Смешанный язык (русский/английский) → AI корректно понимает оба.
Очень короткая запись (<3 секунд) → уведомление «слишком короткая запись».
3.2 Задачи и статусы
Задача без даты → остаётся в блоке «Идеи на потом».
Задача с повтором "каждый день" → отображается на весь период.
Перенос задачи более 5 раз → AI предлагает альтернативный сценарий («Хочешь выделить слот?»).
3.3 Календарь
Пустой день → карточка дня отображает CTA «Записать итог».
Просроченные задачи → отображаются в отдельной плашке.
Более 50 задач в одном дне → включается сворачивание секций.
3.4 Уведомления
Уведомление приходит в оффлайне → сохраняется в системном Notification Center.


Пользователь отключил уведомления в iOS → приложение не падает, отображает баннер «Включите уведомления».
3.5 Приватность
Открыть приватную задачу без Face ID → запрос аутентификации.
Face ID недоступен (темнота/камера закрыта) → резервный PIN.
3.6 Интеграции
Apple Calendar отключён → задачи остаются в приложении.
Health недоступен → приложение работает без него.
Siri Shortcut запущен без разрешений → системный отказ.
4. Нефункциональные тесты
Производительность: список из 500 задач должен скроллиться с 60 fps.
Оффлайн: запись и задачи создаются, синхронизируются после подключения.
Локализация: проверка RU/EN интерфейсов, корректность формата дат.
Доступность: VoiceOver зачитывает корректно все элементы.
Crash-free: не менее 99,5% сессий без вылетов.
5. Критерии приёмки
Все ключевые сценарии (запись, задачи, календарь, чат, аналитика) работают без ошибок.
Edge-cases обрабатываются без падений приложения.
Оффлайн-режим сохраняет данные и синхронизирует позже.
AI всегда формирует хотя бы один осмысленный результат (задачу или идею).
Уведомления приходят строго в заданное время.
Пункт 19 — User Journey Map (путь пользователя)
1. Назначение
Показать, как пользователь проходит путь от первого взаимодействия с приложением до превращения его в ежедневную привычку.
2. Этапы пути
Этап 1. Первое знакомство
Контекст: пользователь скачал приложение из App Store.
Действия:
Онбординг (2–3 экрана): кратко «Говоришь голосом → получаешь задачи».
Запросы разрешений: микрофон, уведомления, iCloud.
Создание аккаунта (через Apple ID).
Эмоции: любопытство.
UI: минималистичные экраны с иллюстрациями и CTA «Попробовать».
KPI: Activation Rate D1 (сделал первую запись).
Этап 2. Первая запись
Контекст: пользователь впервые нажимает большую кнопку записи.
Действия:
Говорит короткий текст («Сегодня сделал уборку и купил продукты»).
AI превращает в задачи: «Уборка — ✅», «Купить продукты — ✅».
Отображаются блоки (Свершилось / План).
Эмоции: эффект «вау» от автоматической структуризации.
UI: анимация волны, плавное появление задач по блокам.
KPI: Time-to-Value (< 5 минут).
Этап 3. Календарь
Контекст: пользователь хочет увидеть задачи по датам.
Действия:
Переходит в календарь, видит блоки цветов на днях.
Открывает карточку дня, слушает аудио.
Переносит одну задачу drag-and-drop.
Эмоции: ощущение контроля.
UI: месячный и недельный виды, цветовые полосы статусов.
KPI: количество открытых карточек дней.
Этап 4. Аналитика недели
Контекст: прошло несколько дней использования.
Действия:
Открывает экран аналитики.
Смотрит графики (выполнено, перенесено, настроение).
Читает AI-отчёт: «Ты чаще всего переносишь бытовые задачи».
Эмоции: мотивация, интерес.
UI: KPI-плашки + графики + текстовый отчёт.
KPI: % пользователей, открывающих аналитику раз в неделю.
Этап 5. Уведомления и напоминания
Контекст: вечером приходит push.
Действия:
Получает уведомление «Подведём итог дня — займёт 1 минуту».
Открывает приложение и делает запись.
Эмоции: лёгкое напоминание, не раздражает.
UI: push с быстрым действием «Записать».
KPI: CTR по push-уведомлениям.
Этап 6. Чат с AI
Контекст: пользователь хочет вспомнить, что он делал в конкретный день.
Действия:
В чате пишет «Что я делал 15 ноября?».
AI показывает список задач и ссылку на карточку дня.
Пользователь переносит задачу прямо из чата.
Эмоции: доверие, удобство.
UI: диалоговый интерфейс с карточками-ответами.
KPI: частота использования чата.
Этап 7. «Вау-эффекты»
Контекст: пользователь остаётся дольше недели.
Действия:
Получает голосовое напоминание собственным голосом (Pro).
Делится «резюме недели» с друзьями.
Смотрит видео-ролик-резюме «Action Replay».
Эмоции: удивление, привязанность.
UI: красивое оформление отчётов и картинок для шеринга.
KPI: конверсия в Pro.
Этап 8. Привычка
Контекст: пользователь использует приложение ≥ 30 дней.
Действия:
Записывает голос каждый день.
Поддерживает streak.
Аналитика и чат становятся регулярными инструментами.
Эмоции: приложение воспринимается как личный ассистент.
UI: нейтральный, минималистичный дизайн, без перегрузки.
KPI: Retention D30, D90.
3. Общая логика
От первого «вау» (AI превращает голос в задачи) → к удержанию (уведомления, аналитика, чат) → к монетизации (Pro-фичи, кастомизация, интеграции).
Пункт 20 — Дополнительные фичи будущего
1. Социальные функции
Анонимное резюме недели: пользователь может поделиться с друзьями короткой карточкой («20 задач → 17 выполнено, настроение: спокойный»).
Совместные дневники: возможность подключать «семейный» или «рабочий» режим, где несколько пользователей делятся итогами.
Ленты привычек: общий прогресс группы (например, друзья держат streak по спорту).
2. Геймификация
Streak-бонусы: за серии дней пользователь получает визуальные бейджи.
Уровни продуктивности: Bronze, Silver, Gold — основаны на выполнении задач и регулярности записей.
Челленджи: еженедельные мини-цели («закрой 10 задач без переносов»).
3. Мультимедиа и расширенный контент
Вложения фото и видео: пользователь может прикрепить визуальные материалы к записи.
Распознавание объектов с фото (например, чек-лист из фотографии превращается в задачи).
Экспорт в «Истории»: красивый видео-клип на основе аудио, текста и картинок.
4. Смарт-фичи AI
Action Replay: генерация «короткого дневника недели» (1 минута аудио твоим же голосом).
Умные фокус-слоты: AI предлагает выделить время в календаре под «застрявшие» задачи.
Предиктивные задачи: AI предсказывает задачи на основе паттернов (например, «каждое воскресенье ты говоришь про уборку» → предлагает добавить заранее).
Тональность речи: AI отмечает уровень энергии и стресса.
5. Wearables и экосистема
Apple Watch: быстрые голосовые записи, просмотр задач на сегодня, streak-индикатор.
AirPods Shortcut: двойное касание для записи без открытия приложения.
Web-версия: просмотр аналитики и календаря.
Android-версия: полная поддержка основных фич.
6. Монетизация расширений
Pro Plus-пакет: доступ к Action Replay, совместным дневникам, видео-экспорту.
Корпоративный тариф: для команд (делегирование, совместные отчёты).
Маркетплейс шаблонов: пользователи делятся Voice Templates («План стартапа», «Фитнес-дневник»).
7. Критерии приёмки будущего видения
Новые функции усиливают ядро продукта (голос → задачи).
Социальные механики не перегружают интерфейс.
AI-инсайты воспринимаются полезными, а не «магией».
Поддерживается единый визуальный язык (тёплая палитра, минимализм).
Таким образом, roadmap beyond 2.0 формирует из приложения не только голосовой таск-менеджер, но и полноценного AI-ассистента продуктивности.

## 🎨 Дополнительные задачи по UI/UX

### Улучшение экрана редактирования задач
- [ ] **Убрать кнопки "Отмена" и "Сохранить" из навигационной панели**
- [ ] **Перенести кнопку "Сохранить" вниз экрана редактирования**
- [ ] **Оформить кнопку "Сохранить" красиво** (по аналогии с кнопкой "Загрузить ещё" во вкладке Таймлайн)
- [ ] **Добавить плавные анимации** при открытии/закрытии экрана редактирования

### Добавление Pull-to-Refresh на страницах
- [ ] **Добавить Pull-to-Refresh на странице Таймлайн** (по аналогии с главной страницей)
- [ ] **Добавить Pull-to-Refresh на странице Аналитика** (по аналогии с главной страницей)

### Исправления UI/UX (выполнено ✅)
- [x] **Кнопка "+" в разделах задач теперь открывает создание новой задачи**
- [x] **Исправлен фон чата - теперь теплый цвет в соответствии с брендбуком**
- [x] **Убрана корзина из чата (не нужна)**
- [x] **Улучшена отзывчивость клавиатуры в чате**
- [x] **Добавлена возможность скрыть клавиатуру тапом по экрану**
- [x] **Создан настоящий AI ассистент вместо команд**
- [x] **Улучшена голосовая запись с базовым AI анализом**
- [x] **Унифицирован фон всех вкладок - теперь везде используется Color.porcelain**
- [x] **Исправлена кнопка отправки сообщений в чате - добавлена анимация и отладка**
- [x] **Реализован полноценный AI анализ голосовых записей** - умное извлечение задач из транскрипции
- [x] **Улучшено извлечение тегов** - автоматическое определение контекста (встречи, звонки, проекты, покупки и др.)
- [x] **Улучшена генерация названий задач** - умное извлечение ключевых слов с фильтрацией стоп-слов
- [x] **Добавлен AI анализ с детальным отчетом** - количество извлеченных задач, качество анализа
- [x] **Исправлена иконка записи голоса** - теперь сразу меняется на стоп при нажатии
- [x] **Исправлен фон чата** - теперь используется Color.porcelain как на других вкладках
- [x] **Переработан AI чат** - убраны скрипты, добавлена интеллектуальная обработка сообщений
- [x] **Улучшено создание задач через чат** - умный парсинг, автоматические теги и сроки
- [ ] **Унифицировать логику обновления** между всеми страницами